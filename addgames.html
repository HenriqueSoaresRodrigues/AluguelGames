<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Gameflix</title>

  <!-- CSS  -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="static/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="static/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script type="module">
  // Obtenha uma referência ao formulário
  const jogoForm = $("#jogo-form");

// Adicione um evento de submit ao formulário
jogoForm.on("submit", (e) => {
  // Previna o comportamento padrão do formulário
  e.preventDefault();

  // Obtenha os valores dos campos do formulário
  let nome = jogoForm.find("#nome").val();
  let imagem = jogoForm.find("#imagem").val();
  let descricao = jogoForm.find("#descricao").val();
  let versao = jogoForm.find("#versao").val();

  // Crie um objeto com os dados do jogo
  let data = {
  nome: nome,
  imagem: imagem,
  descricao: descricao, // adicionar a descricao
  versao: versao, // adicionar a versao
};

  
  // Envie uma requisição put para a rota /jogo/1 com os dados do jogo
    $.ajax({
    url: "http://localhost:5000/addjogo",
    method: "POST", // mudar para POST
    contentType: "application/json",
    data: JSON.stringify(data),
    success: (response) => {
      // Mostre uma mensagem de sucesso
      alert(response);
      // Limpe os campos do formulário
      jogoForm[0].reset();
    },
    error: (error) => {
      // Mostre uma mensagem de erro
      alert(error.responseText);
    },
  });

});
</script>
</head>
<body>
  <nav class="white" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="#" class="brand-logo">Gameflix</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="http://localhost:5000/atualizar">Atualizar jogos</a></li>
      </ul>

      <ul id="nav-mobile" class="sidenav">
        <li><a href="http://localhost:5000/atualizar">Atualizar jogos</a></li>
      </ul>
      <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
  </nav>

  <div id="index-banner" class="parallax-container">
    <div class="section no-pad-bot">
      <div class="container">
        <br><br>
        <h1 class="header center teal-text text-lighten-2">Gameflix</h1>
        <div class="row center">
          <h5 class="header col s12 light">Aluguel de videogames no PS4  e PS4</h5>
        </div>
        <div class="row center">
          <a href="http://materializecss.com/getting-started.html" id="download-button" class="btn-large waves-effect waves-light teal lighten-1">Get Started</a>
        </div>
        <br><br>

      </div>
    </div>
    <div class="parallax"><img src="static/ps5games1.png" alt="Unsplashed background img 1"></div>
  </div>
  <form id="jogo-form">
    <div class="nav-wrapper container">
      <div class="input-field">
        <input type="text" id="nome" name="nome" required>
        <label for="nome">Nome do jogo</label>
      </div>
      <div class="input-field">
        <input type="url" id="imagem" name="imagem" required>
        <label for="imagem">Link para imagem do jogo</label>
      </div>
      <!-- adicionar a div para a descricao -->
      <div class="input-field">
        <input type="text" id="descricao" name="descricao" required>
        <label for="descricao">Descrição do jogo</label>
      </div>
      <!-- adicionar a div para a versao -->
      <div class="input-field">
        <input type="text" id="versao" name="versao" required>
        <label for="versao">Versão do jogo</label>
      </div>
      <button type="submit" class="btn">Adicionar jogo</button>
    </div>
  </form>

  <div class="container">
</div>
  </div>


  <div class="parallax-container valign-wrapper">
    <div class="section no-pad-bot">
      <div class="container">
        <div class="row center">
        
        </div>
      </div>
    </div>
    <div class="parallax"><img src="static/background2.jpg" alt="Unsplashed background img 2"></div>
  </div>

  <div class="container">
    <div class="section">

      <div class="row">
        <div class="col s12 center">
          <h3><i class="mdi-content-send brown-text"></i></h3>
          <h4>Planos e Contato</h4>
          <p class="left-align light">Plano de $$ reais mensais por jogo</p>
          <p class="left-align light">Whatsapp: +55 21 99552-6833</p>
        </div>
      </div>

    </div>
  </div>


  <div class="parallax-container valign-wrapper">
    <div class="section no-pad-bot">
      <div class="container">
        <div class="row center">
        </div>
      </div>
    </div>
    <div class="parallax"><img src="static/background3.jpg" alt="Unsplashed background img 3"></div>
  </div>

  <footer class="page-footer teal">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Gameflix</h5>
          <p class="grey-text text-lighten-4">Somos um aluguel de jogos.</p>


        </div>
      
      
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Made by <a class="brown-text text-lighten-3" href="http://materializecss.com">Henrique S. Rodrigues</a>
      </div>
    </div>
  </footer>


  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="static/js/materialize.js"></script>
  <script src="static/js/init.js"></script>

  </body>
</html>

